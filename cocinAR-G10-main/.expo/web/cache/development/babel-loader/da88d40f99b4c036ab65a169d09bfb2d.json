{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Touchable from \"react-native-web/dist/exports/Touchable\";\nimport _ from \"lodash\";\nimport { ListItem, SearchBar, Avatar } from \"react-native-elements\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar SearchScreen = function (_Component) {\n  _inherits(SearchScreen, _Component);\n\n  var _super = _createSuper(SearchScreen);\n\n  function SearchScreen(props) {\n    var _this;\n\n    _classCallCheck(this, SearchScreen);\n\n    _this = _super.call(this, props);\n    _this.makeRemoteRequest = _.debounce(function () {\n      _this.setState({\n        loading: true\n      });\n\n      _this.getUsers(2, _this.state.query).then(function (users) {\n        _this.setState({\n          loading: false,\n          data: users,\n          fullData: users\n        });\n      }).catch(function (error) {\n        _this.setState({\n          error: error,\n          loading: false\n        });\n      });\n    }, 250);\n\n    _this.handleSearch = function (text) {\n      var formattedQuery = text.toLowerCase();\n\n      var data = _.filter(_this.state.fullData, function (user) {\n        return _this.contains(user, formattedQuery);\n      });\n\n      _this.setState({\n        data: data,\n        query: text\n      }, function () {\n        return _this.makeRemoteRequest();\n      });\n    };\n\n    _this.renderSeparator = function () {\n      return _jsx(View, {\n        style: {\n          height: 1,\n          width: \"86%\",\n          backgroundColor: \"#CED0CE\",\n          marginLeft: \"14%\"\n        }\n      });\n    };\n\n    _this.renderHeader = function () {\n      return _jsx(SearchBar, {\n        placeholder: \"Buscar\",\n        lightTheme: true,\n        round: true,\n        onChangeText: _this.handleSearch,\n        value: _this.state.query\n      });\n    };\n\n    _this.renderFooter = function () {\n      if (!_this.state.loading) return null;\n      return _jsx(View, {\n        style: {\n          paddingVertical: 20,\n          borderTopWidth: 1,\n          borderColor: \"#CED0CE\"\n        },\n        children: _jsx(ActivityIndicator, {\n          animating: true,\n          size: \"large\"\n        })\n      });\n    };\n\n    _this.getUsers = function () {\n      var limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 2;\n      var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n      return new Promise(function (resolve, reject) {\n        if (query.length === 0) {\n          resolve(_.take(users, limit));\n        } else {\n          var formattedQuery = query.toLowerCase();\n\n          var results = _.filter(users, function (user) {\n            return contains(user, formattedQuery);\n          });\n\n          resolve(_.take(results, limit));\n        }\n      });\n    };\n\n    _this.contains = function (_ref, query) {\n      var nombre = _ref.nombre;\n      var first = nombre.first;\n\n      if (first.includes(query)) {\n        return true;\n      }\n\n      return false;\n    };\n\n    _this.state = {\n      loading: false,\n      data: [],\n      error: null\n    };\n    return _this;\n  }\n\n  _createClass(SearchScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.makeRemoteRequest();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props$route$par = this.props.route.params,\n          postId = _this$props$route$par.postId,\n          users = _this$props$route$par.users;\n      return _jsxs(SafeAreaView, {\n        children: [_jsx(StatusBar, {\n          style: \"light-content\"\n        }), _jsx(FlatList, {\n          data: users,\n          renderItem: function renderItem(_ref2) {\n            var item = _ref2.item;\n            return _jsxs(ListItem, {\n              bottomDivider: true,\n              children: [_jsx(Avatar, {\n                style: styles.avatar,\n                source: {\n                  uri: item.receta.foto\n                },\n                rounded: true\n              }), _jsxs(ListItem.Content, {\n                children: [_jsx(ListItem.Title, {\n                  style: styles.content,\n                  children: \"\" + item.receta.nombre\n                }), _jsx(ListItem.Subtitle, {\n                  children: item.creatorNickname\n                })]\n              }), _jsx(TouchableOpacity, {\n                onPress: function onPress() {\n                  _this2.props.navigation.navigate('Recetas', {\n                    screen: 'SearchScreen',\n                    params: {\n                      recetass: item.receta\n                    },\n                    pasos: item.pasos,\n                    usuario: item.creatorNickname,\n                    ingredientes: item.ingredienteConCantidad,\n                    tags: item.tagString\n                  });\n                },\n                children: _jsx(ListItem.Chevron, {\n                  size: 35,\n                  color: \"pink\"\n                })\n              })]\n            });\n          },\n          keyExtractor: function keyExtractor(item) {\n            return item.receta.idReceta;\n          },\n          ItemSeparatorComponent: this.renderSeparator,\n          ListHeaderComponent: this.renderHeader,\n          ListFooterComponent: this.renderFooter\n        })]\n      });\n    }\n  }]);\n\n  return SearchScreen;\n}(Component);\n\nvar styles = StyleSheet.create({\n  content: {\n    fontSize: 30\n  },\n  avatar: {\n    width: 100\n  }\n});\nexport default SearchScreen;","map":{"version":3,"names":["React","Component","_","ListItem","SearchBar","Avatar","TouchableOpacity","SearchScreen","props","makeRemoteRequest","debounce","setState","loading","getUsers","state","query","then","users","data","fullData","catch","error","handleSearch","text","formattedQuery","toLowerCase","filter","user","contains","renderSeparator","height","width","backgroundColor","marginLeft","renderHeader","renderFooter","paddingVertical","borderTopWidth","borderColor","limit","Promise","resolve","reject","length","take","results","nombre","first","includes","route","params","postId","item","styles","avatar","uri","receta","foto","content","creatorNickname","navigation","navigate","screen","recetass","pasos","usuario","ingredientes","ingredienteConCantidad","tags","tagString","idReceta","StyleSheet","create","fontSize"],"sources":["/Users/juancruzlafranconi/Documents/AppMobile/cocinAR-G10-main/cocinAR-G10-main/Screens/SearchScreen.js"],"sourcesContent":["import React, { Component } from \"react\";\n\nimport {\n  View,\n  Text,\n  FlatList,\n  ActivityIndicator,\n  SafeAreaView,\n  StatusBar,\n  StyleSheet,\n  Touchable,\n} from \"react-native\";\nimport _ from \"lodash\";\nimport { ListItem, SearchBar, Avatar } from \"react-native-elements\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\n\nclass SearchScreen extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      data: [],\n      error: null,\n    };\n\n  }\n\n  componentDidMount() {\n    this.makeRemoteRequest();\n  }\n\n  makeRemoteRequest = _.debounce(() => {\n    this.setState({ loading: true });\n\n    this.getUsers(2, this.state.query)\n      .then((users) => {\n        this.setState({\n          loading: false,\n          data: users,\n          fullData: users,\n        });\n      })\n      .catch((error) => {\n        this.setState({ error, loading: false });\n      });\n  }, 250);\n\n  handleSearch = (text) => {\n    const formattedQuery = text.toLowerCase();\n    const data = _.filter(this.state.fullData, (user) => {\n      return this.contains(user, formattedQuery);\n    });\n    this.setState({ data, query: text }, () => this.makeRemoteRequest());\n  };\n\n  renderSeparator = () => {\n    return (\n      <View\n        style={{\n          height: 1,\n          width: \"86%\",\n          backgroundColor: \"#CED0CE\",\n          marginLeft: \"14%\",\n        }}\n      />\n    );\n  };\n\n  renderHeader = () => {\n    return (\n      <SearchBar\n        placeholder=\"Buscar\"\n        lightTheme\n        round\n        onChangeText={this.handleSearch}\n        value={this.state.query}\n      />\n    );\n  };\n\n  renderFooter = () => {\n    if (!this.state.loading) return null;\n\n    return (\n      <View\n        style={{\n          paddingVertical: 20,\n          borderTopWidth: 1,\n          borderColor: \"#CED0CE\",\n        }}\n      >\n        <ActivityIndicator animating size=\"large\" />\n      </View>\n    );\n  };\n\n  getUsers = (limit = 2, query = \"\") => {\n    return new Promise((resolve, reject) => {\n      if (query.length === 0) {\n        resolve(_.take(users, limit));\n      } else {\n        const formattedQuery = query.toLowerCase();\n        const results = _.filter(users, user => {\n          return contains(user, formattedQuery);\n        });\n        resolve(_.take(results, limit));\n      }\n    });\n  };\n\n  contains = ({ nombre }, query) => {\n    const { first } = nombre;\n    if (first.includes(query)) {\n      return true;\n    }\n  \n    return false;\n  };\n\n  render() {\n    const { postId, users } = this.props.route.params;\n    return (\n\n      <SafeAreaView>\n        <StatusBar style=\"light-content\" />\n        <FlatList\n          data={users}\n          renderItem={({ item }) => (\n            <ListItem bottomDivider>\n              <Avatar style={styles.avatar} source={{ uri: item.receta.foto }} rounded />\n              <ListItem.Content >\n                <ListItem.Title style={styles.content}>{`${item.receta.nombre}`}</ListItem.Title>\n                <ListItem.Subtitle>{item.creatorNickname}</ListItem.Subtitle>\n              </ListItem.Content>\n              <TouchableOpacity onPress={() => {\n              this.props.navigation.navigate('Recetas', {\n                screen: 'SearchScreen',\n                params: {recetass: item.receta }, pasos: item.pasos, usuario: item.creatorNickname, ingredientes: item.ingredienteConCantidad, tags: item.tagString\n              });\n            }}>\n              <ListItem.Chevron size={35} color=\"pink\" />\n              \n              </TouchableOpacity>\n              \n            </ListItem>\n          )}\n          keyExtractor={(item) => item.receta.idReceta}\n          ItemSeparatorComponent={this.renderSeparator}\n          ListHeaderComponent={this.renderHeader}\n          ListFooterComponent={this.renderFooter}\n        />\n      </SafeAreaView>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n    content:{\n        fontSize: 30\n    },\n    avatar:{\n        width: 100,\n    }\n})\n\nexport default SearchScreen;"],"mappings":"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"},"metadata":{},"sourceType":"module"}