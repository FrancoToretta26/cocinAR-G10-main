{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { t, color } from 'react-native-tailwindcss';\nimport Input from \"../Components/Input\";\nimport Button from \"../Components/Button\";\nimport { useNavigation } from 'react-navigation';\nimport { useForm, Controller } from 'react-hook-form';\nimport { getRecipes } from \"../controller/recipe.controller\";\nimport { recuperarPass } from \"../controller/user.controller\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function OlvidePassword(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isBillingDifferent = _useState2[0],\n      setIsBillingDifferent = _useState2[1];\n\n  var _useForm = useForm(),\n      handleSubmit = _useForm.handleSubmit,\n      control = _useForm.control,\n      errors = _useForm.formState.errors;\n\n  var EMAIL_REGEX = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n  var toggleBilling = function toggleBilling() {\n    setIsBillingDifferent(function (prev) {\n      return !prev;\n    });\n  };\n\n  var onSubmit = function _callee(data) {\n    var recibirToken;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log(data.email);\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(recuperarPass(data.email));\n\n          case 3:\n            recibirToken = _context.sent;\n            console.log(recibirToken.rdo, 'rdo');\n\n            if (recibirToken.rdo == 0) {\n              navigation.navigate('ValidarCodigoPass');\n              alert('Se ha enviado el codigo a tu correo electronico.');\n            }\n\n            if (recibirToken.rdo == 1) {\n              alert('El correo electronico no esta registrado');\n            }\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Controller, {\n      defaultValue: \"\",\n      name: \"email\",\n      rules: {\n        required: {\n          value: true,\n          message: 'El correo electronico es requerido'\n        },\n        pattern: {\n          value: EMAIL_REGEX,\n          message: 'El correo electronico es invalido'\n        }\n      },\n      control: control,\n      render: function render(_ref2) {\n        var _errors$email;\n\n        var _ref2$field = _ref2.field,\n            onChange = _ref2$field.onChange,\n            value = _ref2$field.value;\n        return _jsx(Input, {\n          error: errors.email,\n          errorText: (_errors$email = errors.email) == null ? void 0 : _errors$email.message,\n          onChangeText: function onChangeText(value) {\n            return onChange(value);\n          },\n          value: value,\n          placeholder: \"Correo Electr\\xF3nico\"\n        });\n      }\n    }), _jsx(Button, {\n      onPress: handleSubmit(onSubmit),\n      label: \"Continuar\"\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: [t.flex1, t.justifyCenter, t.itemsCenter, t.p6, {\n    backgroundColor: \"#222121\"\n  }]\n});","map":{"version":3,"names":["React","useState","t","color","Input","Button","useNavigation","useForm","Controller","getRecipes","recuperarPass","OlvidePassword","navigation","route","isBillingDifferent","setIsBillingDifferent","handleSubmit","control","errors","formState","EMAIL_REGEX","toggleBilling","prev","onSubmit","data","console","log","email","recibirToken","rdo","navigate","alert","styles","container","required","value","message","pattern","field","onChange","StyleSheet","create","flex1","justifyCenter","itemsCenter","p6","backgroundColor"],"sources":["/Users/juancruzlafranconi/Documents/AppMobile/cocinAR-G10-main/cocinAR-G10-main/Screens/OlvidePassword.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { StyleSheet, Switch, Text, View } from 'react-native';\nimport { t, color } from 'react-native-tailwindcss';\n\nimport Input from '../Components/Input'\nimport Button from '../Components/Button';\n\nimport {useNavigation} from 'react-navigation'\n\nimport { useForm, Controller } from 'react-hook-form';\n\nimport { getRecipes } from '../controller/recipe.controller';\nimport { recuperarPass } from '../controller/user.controller';\n\n\nexport default function OlvidePassword({ navigation, route }) {\n  const [isBillingDifferent, setIsBillingDifferent] = useState(false);\n  const { handleSubmit, control, formState: { errors } } = useForm();\n\n  const EMAIL_REGEX = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n\n  const toggleBilling = () => {\n    setIsBillingDifferent((prev) => !prev);\n  };\n\n  const onSubmit = async function (data){\n    console.log(data.email);\n    let recibirToken = await recuperarPass(data.email)\n    console.log(recibirToken.rdo, 'rdo')\n    if(recibirToken.rdo==0){\n      navigation.navigate('ValidarCodigoPass')\n      alert('Se ha enviado el codigo a tu correo electronico.')\n    }\n    if(recibirToken.rdo==1){\n      alert('El correo electronico no esta registrado')\n    }\n    }\n  \n\n\n  return (\n    <View style={styles.container}>\n        <Controller\n        defaultValue=\"\"\n        name=\"email\"\n        rules={{required:{\n            value: true,\n            message: 'El correo electronico es requerido'\n        },\n        pattern:{\n            value: EMAIL_REGEX,\n            message: 'El correo electronico es invalido'\n        }}}\n        control={control}\n        render={({ field: { onChange, value } }) => (\n            <Input\n                error={errors.email}\n                errorText={errors.email?.message}\n                onChangeText={(value) => onChange(value)}\n                value={value}\n                placeholder=\"Correo ElectrÃ³nico\"\n            />\n        )}\n        />\n      <Button onPress={handleSubmit(onSubmit)} label=\"Continuar\" />\n\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: [t.flex1, t.justifyCenter, t.itemsCenter, t.p6, {backgroundColor: \"#222121\"}],\n\n});"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;;;;AAEA,SAASC,CAAT,EAAYC,KAAZ,QAAyB,0BAAzB;AAEA,OAAOC,KAAP;AACA,OAAOC,MAAP;AAEA,SAAQC,aAAR,QAA4B,kBAA5B;AAEA,SAASC,OAAT,EAAkBC,UAAlB,QAAoC,iBAApC;AAEA,SAASC,UAAT;AACA,SAASC,aAAT;;;AAGA,eAAe,SAASC,cAAT,OAA+C;EAAA,IAArBC,UAAqB,QAArBA,UAAqB;EAAA,IAATC,KAAS,QAATA,KAAS;;EAC5D,gBAAoDZ,QAAQ,CAAC,KAAD,CAA5D;EAAA;EAAA,IAAOa,kBAAP;EAAA,IAA2BC,qBAA3B;;EACA,eAAyDR,OAAO,EAAhE;EAAA,IAAQS,YAAR,YAAQA,YAAR;EAAA,IAAsBC,OAAtB,YAAsBA,OAAtB;EAAA,IAA4CC,MAA5C,YAA+BC,SAA/B,CAA4CD,MAA5C;;EAEA,IAAME,WAAW,GAAG,yJAApB;;EAGA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;IAC1BN,qBAAqB,CAAC,UAACO,IAAD;MAAA,OAAU,CAACA,IAAX;IAAA,CAAD,CAArB;EACD,CAFD;;EAIA,IAAMC,QAAQ,GAAG,iBAAgBC,IAAhB;IAAA;IAAA;MAAA;QAAA;UAAA;YACfC,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,KAAjB;YADe;YAAA,iCAEUjB,aAAa,CAACc,IAAI,CAACG,KAAN,CAFvB;;UAAA;YAEXC,YAFW;YAGfH,OAAO,CAACC,GAAR,CAAYE,YAAY,CAACC,GAAzB,EAA8B,KAA9B;;YACA,IAAGD,YAAY,CAACC,GAAb,IAAkB,CAArB,EAAuB;cACrBjB,UAAU,CAACkB,QAAX,CAAoB,mBAApB;cACAC,KAAK,CAAC,kDAAD,CAAL;YACD;;YACD,IAAGH,YAAY,CAACC,GAAb,IAAkB,CAArB,EAAuB;cACrBE,KAAK,CAAC,0CAAD,CAAL;YACD;;UAVc;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAjB;;EAeA,OACE,MAAC,IAAD;IAAM,KAAK,EAAEC,MAAM,CAACC,SAApB;IAAA,WACI,KAAC,UAAD;MACA,YAAY,EAAC,EADb;MAEA,IAAI,EAAC,OAFL;MAGA,KAAK,EAAE;QAACC,QAAQ,EAAC;UACbC,KAAK,EAAE,IADM;UAEbC,OAAO,EAAE;QAFI,CAAV;QAIPC,OAAO,EAAC;UACJF,KAAK,EAAEf,WADH;UAEJgB,OAAO,EAAE;QAFL;MAJD,CAHP;MAWA,OAAO,EAAEnB,OAXT;MAYA,MAAM,EAAE;QAAA;;QAAA,wBAAGqB,KAAH;QAAA,IAAYC,QAAZ,eAAYA,QAAZ;QAAA,IAAsBJ,KAAtB,eAAsBA,KAAtB;QAAA,OACJ,KAAC,KAAD;UACI,KAAK,EAAEjB,MAAM,CAACS,KADlB;UAEI,SAAS,mBAAET,MAAM,CAACS,KAAT,qBAAE,cAAcS,OAF7B;UAGI,YAAY,EAAE,sBAACD,KAAD;YAAA,OAAWI,QAAQ,CAACJ,KAAD,CAAnB;UAAA,CAHlB;UAII,KAAK,EAAEA,KAJX;UAKI,WAAW,EAAC;QALhB,EADI;MAAA;IAZR,EADJ,EAuBE,KAAC,MAAD;MAAQ,OAAO,EAAEnB,YAAY,CAACO,QAAD,CAA7B;MAAyC,KAAK,EAAC;IAA/C,EAvBF;EAAA,EADF;AA4BD;AAED,IAAMS,MAAM,GAAGQ,UAAU,CAACC,MAAX,CAAkB;EAC/BR,SAAS,EAAE,CAAC/B,CAAC,CAACwC,KAAH,EAAUxC,CAAC,CAACyC,aAAZ,EAA2BzC,CAAC,CAAC0C,WAA7B,EAA0C1C,CAAC,CAAC2C,EAA5C,EAAgD;IAACC,eAAe,EAAE;EAAlB,CAAhD;AADoB,CAAlB,CAAf"},"metadata":{},"sourceType":"module"}